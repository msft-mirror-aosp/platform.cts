{"uuid":"d2619d97-b114-47f1-bade-ff3e0e4d37f7","details":"{\"type\":\"CompoundAction\",\"name\":\"Start Permissions lockdown test\",\"actionId\":\"d2619d97-b114-47f1-bade-ff3e0e4d37f7\",\"actionType\":\"COMPOUND_ACTION\",\"createdBy\":\"riacheltseng\",\"childrenActions\":[{\"type\":\"CommandLineAction\",\"name\":\"Install permission app \",\"actionId\":\"9487fcb4-c17b-42be-97f2-2dc1a6c185b9\",\"actionType\":\"COMMAND_LINE_ACTION\",\"delayAfterActionMs\":3000,\"createdBy\":\"riacheltseng\",\"commandLine\":\"install -r -t $uicd_permissionapp_apk_path\",\"isAdbCommand\":true,\"expectedReturnCode\":\"0\",\"commandlineExecutionTimeoutSec\":5,\"needShellOutput\":false,\"uicdVariableName\":\"\"},{\"type\":\"ScrollScreenContentValidationAction\",\"name\":\"Scroll to Permissions lockdown\",\"actionId\":\"62227202-9881-4935-80ab-4292e02bcca0\",\"actionType\":\"SCROLL_SCREEN_CONTENT_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"Permissions lockdown\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"isOcrMode\":false,\"savedNodeContext\":{\"uuid\":\"0052d9f2-01ed-4517-9209-7407cbd0f18c\",\"displayText\":\"Permissions lockdown\",\"isUniqueResourceId\":false,\"children\":[],\"className\":\"android.widget.TextView\",\"resourceId\":\"android:id/text1\",\"text\":\"Permissions lockdown\",\"checked\":false,\"isCheckableNode\":true,\"isClickableNode\":true,\"enabled\":true,\"bounds\":{\"x1\":9.333333333333334,\"y1\":465.0,\"x2\":350.6666666666667,\"y2\":509.0},\"clickedPos\":{\"confidentLevel\":2,\"x\":98.5,\"y\":491.0,\"isPhysicalPos\":false,\"validPos\":true},\"relativePos\":{\"confidentLevel\":2,\"x\":81.5,\"y\":-4.0,\"isPhysicalPos\":false,\"validPos\":false},\"isRawXYPosition\":false,\"isClickedCurrentNode\":false,\"xmlLayerIndex\":1,\"leafNodeContext\":\"0052d9f2-01ed-4517-9209-7407cbd0f18c\",\"firstText\":\"Permissions lockdown\"},\"contextStorageType\":\"TEXT_BASED\",\"screenContentSearchType\":\"FULLSCREEN\",\"selectedText\":\"Permissions lockdown\",\"selectedType\":\"DISPLAY_TEXT\",\"selectedBound\":{\"x1\":5.0,\"y1\":474.0,\"x2\":192.0,\"y2\":508.0},\"scrollOrientation\":2,\"scrollMaxNumber\":5},{\"type\":\"ClickAction\",\"name\":\"Click Action, Permissions lockdown\",\"actionId\":\"c0d22eec-11d5-4ecf-847b-f4f18138b316\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"TEXT_EQUALS\",\"selector\":\"Permissions lockdown\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, select \\\"Grant\\\"\",\"actionId\":\"7854c052-4761-4332-8ada-429466f7d506\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/permission_allow\"},{\"type\":\"ConditionValidationAction\",\"name\":\"VERIFY Allow is selected and can't be changed.\",\"actionId\":\"d0517510-51ab-49ac-abcc-e612b4487f7f\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"text\",\"operator\":\"=\",\"value\":\"Allow\"},{\"field\":\"checked\",\"operator\":\"=\",\"value\":\"true\"},{\"field\":\"enabled\",\"operator\":\"=\",\"value\":\"false\"}]},\"clickAfterValidation\":false},{\"type\":\"PythonScriptAction\",\"name\":\"Click the information icon of Deny item\",\"actionId\":\"87fc6fc3-f006-4e95-92c3-179a3e08a5c2\",\"actionType\":\"PYTHON_SCRIPT_ACTION\",\"createdBy\":\"riacheltseng\",\"script\":\"from python_uiautomator.device import Device\\n\\nd= Device.create_device_by_slot(0)\\nd.text(\\\"Enabled by admin\\\").right().resource_id(\\\"com.android.permissioncontroller:id/widget_frame\\\").click()\\n\",\"expectedReturnCode\":\"0\",\"isPathProvided\":false,\"path\":null},{\"type\":\"ClickAction\",\"name\":\"Click Action, select \\\"Let user decide\\\"\",\"actionId\":\"e204a952-f4ed-4df0-a3b4-efb3ebe26aa3\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/permission_default\"},{\"type\":\"ConditionValidationAction\",\"name\":\"Make sure Allow is enabled and can be select.\",\"actionId\":\"e63b4673-3bbf-495a-96a5-46c1d62ab4ba\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"enabled\",\"operator\":\"=\",\"value\":\"true\"},{\"field\":\"text\",\"operator\":\"=\",\"value\":\"Allow\"}]},\"clickAfterValidation\":false},{\"type\":\"ConditionValidationAction\",\"name\":\"VERIFY Deny is enabled and can be selected\",\"actionId\":\"ffb99b6e-b0e1-44ec-8a19-ea77b8a821a1\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"enabled\",\"operator\":\"=\",\"value\":\"true\"},{\"field\":\"text\",\"operator\":\"=\",\"value\":\"Deny\"}]},\"clickAfterValidation\":false},{\"type\":\"ClickAction\",\"name\":\"Click Action,select \\\"Deny\\\"\",\"actionId\":\"7470dc8b-dd1b-40cb-bf8d-7b2eb2640197\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/permission_deny\"},{\"type\":\"ConditionValidationAction\",\"name\":\"VERIFY Deny is selected and can't be changed\",\"actionId\":\"bf16488b-de68-4eff-9961-5950b2aed87a\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"text\",\"operator\":\"=\",\"value\":\"Deny\"},{\"field\":\"checked\",\"operator\":\"=\",\"value\":\"true\"},{\"field\":\"enabled\",\"operator\":\"=\",\"value\":\"false\"}]},\"clickAfterValidation\":false},{\"type\":\"PythonScriptAction\",\"name\":\"Click the information icon of Deny item\",\"actionId\":\"eb5f9855-19ae-41b9-908f-9e48d3edff9e\",\"actionType\":\"PYTHON_SCRIPT_ACTION\",\"createdBy\":\"riacheltseng\",\"script\":\"from python_uiautomator.device import Device\\n\\nd= Device.create_device_by_slot(0)\\nd.text(\\\"Disabled by admin\\\").right().resource_id(\\\"com.android.permissioncontroller:id/widget_frame\\\").click()\\n\",\"expectedReturnCode\":\"0\",\"isPathProvided\":false,\"path\":null}],\"childrenIdList\":[\"9487fcb4-c17b-42be-97f2-2dc1a6c185b9\",\"62227202-9881-4935-80ab-4292e02bcca0\",\"c0d22eec-11d5-4ecf-847b-f4f18138b316\",\"1601f323-e824-4190-9ee0-350f0a1149ea\",\"7854c052-4761-4332-8ada-429466f7d506\",\"f94a4fd0-90ed-46b2-bd68-e769b2b4175c\",\"e272f61e-5e1a-434d-ab44-5ae9abf260fc\",\"d0517510-51ab-49ac-abcc-e612b4487f7f\",\"87fc6fc3-f006-4e95-92c3-179a3e08a5c2\",\"bcc40c72-d997-4128-80a1-6aca3603c260\",\"5cab765b-34d5-4922-a223-6322eaf241ae\",\"e204a952-f4ed-4df0-a3b4-efb3ebe26aa3\",\"f94a4fd0-90ed-46b2-bd68-e769b2b4175c\",\"e272f61e-5e1a-434d-ab44-5ae9abf260fc\",\"e63b4673-3bbf-495a-96a5-46c1d62ab4ba\",\"ffb99b6e-b0e1-44ec-8a19-ea77b8a821a1\",\"da770381-d17c-48ca-8aba-def4338ef96b\",\"7470dc8b-dd1b-40cb-bf8d-7b2eb2640197\",\"f94a4fd0-90ed-46b2-bd68-e769b2b4175c\",\"e272f61e-5e1a-434d-ab44-5ae9abf260fc\",\"bf16488b-de68-4eff-9961-5950b2aed87a\",\"eb5f9855-19ae-41b9-908f-9e48d3edff9e\",\"bcc40c72-d997-4128-80a1-6aca3603c260\",\"5cab765b-34d5-4922-a223-6322eaf241ae\",\"41618467-e1d1-4cb0-ba3c-c3230a3442bf\"],\"repeatTime\":1,\"failAtTheEnd\":false,\"forceDeviceOnChildren\":false,\"runAlwaysRecursive\":false,\"additionalData\":{\"version\":\"1\",\"globalVariableStr\":\"$uicd_permissionapp_apk_path=$HOME/Documents/rvc_release/android-cts-verifier/CtsPermissionApp.apk\"}}","name":"Start Permissions lockdown test","type":"CompoundAction","tag":"","description":"","created_by":"riacheltseng","created_at":1607325439.111000000}