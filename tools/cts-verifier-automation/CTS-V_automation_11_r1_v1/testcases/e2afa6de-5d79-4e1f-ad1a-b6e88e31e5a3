{"uuid":"e2afa6de-5d79-4e1f-ad1a-b6e88e31e5a3","details":"{\"type\":\"CompoundAction\",\"name\":\"test_Bubble Notification Tests\",\"actionId\":\"e2afa6de-5d79-4e1f-ad1a-b6e88e31e5a3\",\"actionType\":\"COMPOUND_ACTION\",\"createdBy\":\"riacheltseng\",\"childrenActions\":[{\"type\":\"ScrollScreenContentValidationAction\",\"name\":\"Scroll to Bubble Notification Tests\",\"actionId\":\"685979e5-3870-49c1-bfc5-918edcc49ed6\",\"actionType\":\"SCROLL_SCREEN_CONTENT_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"Bubble Notification Tests\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"isOcrMode\":false,\"savedNodeContext\":{\"uuid\":\"2c0537fe-0145-4457-9e7a-f3c50873157d\",\"displayText\":\"Bubble Notification Tests\",\"isUniqueResourceId\":false,\"children\":[],\"className\":\"android.widget.TextView\",\"resourceId\":\"android:id/text1\",\"text\":\"Bubble Notification Tests\",\"checked\":false,\"isCheckableNode\":true,\"isClickableNode\":false,\"enabled\":true,\"bounds\":{\"x1\":8.75,\"y1\":400.25,\"x2\":351.25,\"y2\":442.25},\"clickedPos\":{\"confidentLevel\":2,\"x\":91.0,\"y\":419.0,\"isPhysicalPos\":false,\"validPos\":true},\"relativePos\":{\"confidentLevel\":2,\"x\":89.0,\"y\":2.25,\"isPhysicalPos\":false,\"validPos\":true},\"isRawXYPosition\":false,\"isClickedCurrentNode\":false,\"xmlLayerIndex\":0,\"leafNodeContext\":\"2c0537fe-0145-4457-9e7a-f3c50873157d\",\"firstText\":\"Bubble Notification Tests\"},\"contextStorageType\":\"TEXT_BASED\",\"screenContentSearchType\":\"FULLSCREEN\",\"selectedText\":\"Bubble Notification Tests\",\"selectedType\":\"DISPLAY_TEXT\",\"selectedBound\":{\"x1\":10.0,\"y1\":410.0,\"x2\":172.0,\"y2\":428.0},\"scrollOrientation\":2,\"scrollMaxNumber\":30},{\"type\":\"ClickAction\",\"name\":\"Click Action, Bubble Notification Tests\",\"actionId\":\"f0983adb-dd69-49ba-87cc-b9743ad938cc\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"TEXT_EQUALS\",\"selector\":\"Bubble Notification Tests\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, Enable bubbles for CTS Verifier\",\"actionId\":\"afdd8c0f-6ff3-4506-bdd2-be552c021a9b\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, All conversations can bubble\",\"actionId\":\"8153f38f-2ee0-4bef-a704-29e0201b9536\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.settings:id/bubble_all_label\"},{\"type\":\"InputAction\",\"name\":\"Back Button\",\"actionId\":\"5382f206-1f12-407c-b56d-9e63b7e0224d\",\"actionType\":\"INPUT_ACTION\",\"createdBy\":\"riacheltseng\",\"keyCode\":4,\"inputString\":null,\"isSingleChar\":true},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 1-Send a bubble with notification\",\"actionId\":\"19fadb00-593a-4fb4-84e4-c33410cd8d0c\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 2- Update bubble to hide notification\",\"actionId\":\"dc311f71-daa8-41b1-9b8c-2c654c240fa1\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 3- Update bubble to show notification\",\"actionId\":\"df9d8789-1767-4841-8a89-2e996ef3f294\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 4- Remove bubble\",\"actionId\":\"6fb3380d-5c04-4a02-b7f4-d7dd6cb3f4dc\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action,  Step 5-Add bubble\",\"actionId\":\"ca0f5702-f8ce-49f7-aa80-676f3afdcd85\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ConditionValidationAction\",\"name\":\"Step 6-Open Bubble\",\"actionId\":\"3cd70629-4895-4ae4-9d19-a2581af30c3c\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"resourceId\",\"operator\":\"=\",\"value\":\"com.android.systemui:id/bubble_view\"}]},\"clickAfterValidation\":true},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 7- Update bubble to show notification\",\"actionId\":\"656b5f04-a88a-4f87-a10a-2230f02605d9\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 8- Send bubble notification\",\"actionId\":\"223c381e-028a-457f-ab96-bb2a631dd512\",\"actionType\":\"CLICK_ACTION\",\"delayAfterActionMs\":3000,\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"PythonScriptAction\",\"name\":\"PYSCRIPT-Dismiss notification\",\"actionId\":\"47d111bc-f1ac-43c5-a890-42e3e77ff5ad\",\"actionType\":\"PYTHON_SCRIPT_ACTION\",\"delayAfterActionMs\":3000,\"createdBy\":\"riacheltseng\",\"script\":\"from python_uiautomator.device import Device\\n\\nd= Device.create_device_by_slot(0)\\n\\nd.text(\\\"BubbleChat\\\").parent().parent().swipe()\",\"expectedReturnCode\":\"0\",\"isPathProvided\":false,\"path\":null},{\"type\":\"ClickAction\",\"name\":\"Click Action, Step 9 - Send auto-expanded bubble notification\",\"actionId\":\"3277fa21-cbca-490b-9eb5-a1d28310651f\",\"actionType\":\"CLICK_ACTION\",\"createdBy\":\"riacheltseng\",\"nodeContext\":null,\"isRawXY\":false,\"isDoubleClick\":false,\"failTestIfNotFound\":true,\"isByElement\":true,\"isOcrMode\":false,\"strategy\":\"RESOURCEID\",\"selector\":\"com.android.cts.verifier:id/bubble_test_button\"},{\"type\":\"ConditionValidationAction\",\"name\":\"VERIFY that a bubble appears on screen, auto-expanded\",\"actionId\":\"dadce6ee-6e0b-4435-a2fb-4c5278460f5a\",\"actionType\":\"CONDITION_VALIDATION_ACTION\",\"createdBy\":\"riacheltseng\",\"textValidator\":{\"contentMatchType\":\"EQUALS\",\"patternValue\":\"\"},\"stopWhenFalse\":true,\"stopType\":\"STOP_TEST_IF_FALSE\",\"query\":{\"condition\":\"and\",\"rules\":[{\"field\":\"resourceId\",\"operator\":\"=\",\"value\":\"com.android.systemui:id/bubble_expanded_view\"}]},\"clickAfterValidation\":false}],\"childrenIdList\":[\"863293b0-236f-46c2-9707-f3bf141fc9f8\",\"685979e5-3870-49c1-bfc5-918edcc49ed6\",\"f0983adb-dd69-49ba-87cc-b9743ad938cc\",\"1601f323-e824-4190-9ee0-350f0a1149ea\",\"afdd8c0f-6ff3-4506-bdd2-be552c021a9b\",\"8153f38f-2ee0-4bef-a704-29e0201b9536\",\"5382f206-1f12-407c-b56d-9e63b7e0224d\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"19fadb00-593a-4fb4-84e4-c33410cd8d0c\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"dc311f71-daa8-41b1-9b8c-2c654c240fa1\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"37bd58c3-6297-4c65-ac3f-e575ec7b3986\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"df9d8789-1767-4841-8a89-2e996ef3f294\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"6fb3380d-5c04-4a02-b7f4-d7dd6cb3f4dc\",\"696f0a59-5696-49f9-8573-34cfc71c3c61\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"ca0f5702-f8ce-49f7-aa80-676f3afdcd85\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"3cd70629-4895-4ae4-9d19-a2581af30c3c\",\"1c0d44ff-5ed3-4ea1-b931-f2cb903c504b\",\"008221ef-2f19-4071-9311-cfbe47857bb3\",\"e26e0b7d-f764-43a4-972e-1879b9ce2b3a\",\"37bd58c3-6297-4c65-ac3f-e575ec7b3986\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"656b5f04-a88a-4f87-a10a-2230f02605d9\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"8ef662f7-4f74-4591-ae52-3225f30513b1\",\"696f0a59-5696-49f9-8573-34cfc71c3c61\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"223c381e-028a-457f-ab96-bb2a631dd512\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"7db88cc2-8f43-4668-a7bc-0afb68e49de3\",\"15c75efc-b173-4eed-9a2c-164886355c98\",\"47d111bc-f1ac-43c5-a890-42e3e77ff5ad\",\"37bd58c3-6297-4c65-ac3f-e575ec7b3986\",\"31902e22-dd19-4a14-9a1f-5bca034bacd5\",\"3c520b0e-60ae-408c-9345-478080bfe14c\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"3277fa21-cbca-490b-9eb5-a1d28310651f\",\"dadce6ee-6e0b-4435-a2fb-4c5278460f5a\",\"e26e0b7d-f764-43a4-972e-1879b9ce2b3a\",\"e7f9f493-a79b-4e07-8b28-1ac9a5ef5d28\",\"8ef662f7-4f74-4591-ae52-3225f30513b1\",\"41618467-e1d1-4cb0-ba3c-c3230a3442bf\"],\"repeatTime\":1,\"failAtTheEnd\":false,\"forceDeviceOnChildren\":false,\"runAlwaysRecursive\":false,\"additionalData\":{\"version\":\"1\",\"globalVariableStr\":\"\"}}","name":"test_Bubble Notification Tests","type":"CompoundAction","tag":"","description":"","created_by":"riacheltseng","created_at":1607325439.223000000}