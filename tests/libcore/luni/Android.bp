// Copyright (C) 2015 The Android Open Source Project
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

package {
    default_team: "trendy_team_java_core_libraries",
    default_applicable_licenses: ["Android-Apache-2.0"],
}

android_test {
    name: "CtsLibcoreTestCases",
    defaults: ["cts_support_defaults"],
    platform_apis: true,
    static_libs: [
        "apache-harmony-tests",
        "conscrypt-support",
        "conscrypt-tests",
        "core-tests",
        "cts-core-test-runner-axt",

        // Jars containing expectations files.
        "libcore-expectations-knownfailures-jar",
        "libcore-expectations-virtualdeviceknownfailures-jar",

        "mockito-target-minus-junit4",
    ],
    dex_preopt: {
        enabled: false,
    },
    dxflags: [
        "--android-platform-build",
        "--multi-dex",
    ],
    optimize: {
        enabled: false,
    },
    jni_libs: [
        "libjavacoretests",
        "libsqlite_jni",
        "libnativehelper_compat_libc++",
        "libc++",
    ],
    // Include both the 32 and 64 bit versions of libjavacoretests,
    // where applicable.
    compile_multilib: "both",
    // This test requires cts-dalvik-host-test-runner to be built to run via Atest.
    host_required: ["cts-dalvik-host-test-runner"],
    min_sdk_version: "31",
    target_sdk_version: "31",
    // Tag this module as a cts test artifact
    test_suites: [
        "cts",
        "mcts-art",
        "mts-art",
        "general-tests",
        "automotive-general-tests",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_dalvik_system",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.dalvik.system"],
}

test_module_config {
    name: "CtsLibcoreTestCases_json",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.org.json"],
}

test_module_config {
    name: "CtsLibcoreTestCases_lang",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "tests.java.lang",
        "libcore.java.lang",
        "org.apache.harmony.tests.java.lang",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_lang_invoke",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.lang.invoke"],
}

test_module_config {
    name: "CtsLibcoreTestCases_compat",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.junit.util.compat"],
}

test_module_config {
    name: "CtsLibcoreTestCases_android_system",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.android.system"],
}

test_module_config {
    name: "CtsLibcoreTestCases_lang_ref",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.lang.ref",
        "libcore.java.lang.ref",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_net",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.net",
        "org.apache.harmony.luni.tests.internal.net.www.protocol.http",
        "org.apache.harmony.luni.tests.java.net",
        "libcore.java.net",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.nio",
        "libcore.java.nio",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_javax_xml",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.xml"],
}

test_module_config {
    name: "CtsLibcoreTestCases_xml_parsers",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.javax.xml.parsers",
        "libcore.javax.xml.parsers",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_content_type",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.content.type"],
}

test_module_config {
    name: "CtsLibcoreTestCases_icu",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.icu"],
}

test_module_config {
    name: "CtsLibcoreTestCases_internal",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.internal"],
}

test_module_config {
    name: "CtsLibcoreTestCases_libcore_io",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.io"],
}

test_module_config {
    name: "CtsLibcoreTestCases_libcore_net",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.net",
        "libcore.libcore.net",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_net_event",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.net.event"],
}

test_module_config {
    name: "CtsLibcoreTestCases_reflect",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.reflect"],
}

test_module_config {
    name: "CtsLibcoreTestCases_libcore_util",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.libcore.util"],
}

test_module_config {
    name: "CtsLibcoreTestCases_w3c_dom",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.xml",
        "org.w3c.domts",
        "tests.org.w3c.dom",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_xml_sax",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.xml",
        "org.apache.harmony.tests.org.xml.sax",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_xml_sax_ext",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.org.xml.sax.ext"],
}

test_module_config {
    name: "CtsLibcoreTestCases_xml_sax_helpers",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.org.xml.sax.helpers"],
}

test_module_config {
    name: "CtsLibcoreTestCases_awt_font",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.awt.font"],
}

test_module_config {
    name: "CtsLibcoreTestCases_beans",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.beans.tests.java.beans",
        "libcore.java.util.beans",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_io",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.luni.tests.java.io",
        "org.apache.harmony.tests.java.io",
        "libcore.java.io",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_lang_annotation",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.lang.annotation",
        "libcore.java.lang.reflect.annotations",
        "org.apache.harmony.annotation.tests.java.lang.annotation",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_lang_reflect",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.lang.reflect",
        "libcore.java.lang.reflect",
        "libcore.java.lang.reflect.annotations",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_math",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.math",
        "libcore.java.math",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio_channels",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.nio.channels",
        "libcore.java.nio.channels",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio_channels_spi",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.java.nio.channels.spi",
        "libcore.java.nio.channels.spi",
        "org.apache.harmony.nio.tests.java.nio.channels.spi",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio_file",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.nio.file"],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio_file_attribute",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.nio.file.attribute"],
}

test_module_config {
    name: "CtsLibcoreTestCases_nio_file_spi",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.nio.file.spi"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "tests.security",
        "org.apache.harmony.security.tests.java.security",
        "org.apache.harmony.tests.javax.security",
        "com.android.org.conscrypt.java.security",
        "libcore.java.security",
        "tests.targets.security",
        "tests.java.security",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_acl",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["tests.security.acl"],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_security_cert",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.security.cert",
        "tests.targets.security.cert",
        "tests.security.cert",
        "com.android.org.conscrypt.java.security.cert",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_interfaces",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["tests.security.interfaces"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_spec",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "tests.security.spec",
        "libcore.java.security.spec",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_sql",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "tests.java.sql",
        "libcore.java.sql",
        "org.apache.harmony.sql.tests.java.sql",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_text",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.text",
        "org.apache.harmony.tests.java.text",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_time",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.time"],
}

test_module_config {
    name: "CtsLibcoreTestCases_time_chrono",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.time.chrono"],
}

test_module_config {
    name: "CtsLibcoreTestCases_time_format",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.time.format"],
}

test_module_config {
    name: "CtsLibcoreTestCases_time_temporal",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.time.temporal"],
}

test_module_config {
    name: "CtsLibcoreTestCases_time_zone",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.time.zone"],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_util",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.util",
        "org.apache.harmony.tests.java.util",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_concurrent",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.util.concurrent"],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_function",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.java.util.function"],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_jar",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.util.jar",
        "org.apache.harmony.tests.java.util.jar",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_java_util_logging",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.logging.tests.java.util.logging",
        "libcore.java.util.logging",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_prefs",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.util.prefs",
        "org.apache.harmony.tests.java.util.prefs",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_regex",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.regex.tests.java.util.regex",
        "org.apache.harmony.tests.java.util.regex",
        "libcore.java.util.regex",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_util_zip",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.java.util.zip",
        "org.apache.harmony.tests.java.util.zip",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_crypto",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "com.android.org.conscrypt.javax.crypto",
        "org.apache.harmony.crypto.tests.javax.crypto",
        "libcore.javax.crypto",
        "org.apache.harmony.crypto.tests.javax.crypto.serialization",
        "org.apache.harmony.crypto.tests.javax.crypto.func",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_crypto_interfaces",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.crypto.tests.javax.crypto.interfaces"],
}

test_module_config {
    name: "CtsLibcoreTestCases_crypto_spec",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.crypto.tests.javax.crypto.spec",
        "libcore.javax.crypto.spec",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_javax_net",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.javax.net",
        "libcore.javax.net",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_net_ssl",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "com.android.org.conscrypt.javax.net.ssl",
        "org.apache.harmony.luni.tests.internal.net.www.protocol.https",
        "org.apache.harmony.tests.javax.net.ssl",
        "libcore.javax.net.ssl",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_auth",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.javax.security.auth"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_auth_callback",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.javax.security.auth.callback"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_auth_login",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.javax.security.auth.login"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_auth_x500",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.javax.security.auth.x500",
        "org.apache.harmony.tests.javax.security.auth.x500",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_javax_security_cert",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["org.apache.harmony.tests.javax.security.cert"],
}

test_module_config {
    name: "CtsLibcoreTestCases_javax_sql",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "libcore.javax.sql",
        "org.apache.harmony.sql.tests.javax.sql",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_invoke_util",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.invoke.util"],
}

test_module_config {
    name: "CtsLibcoreTestCases_misc",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: [
        "org.apache.harmony.tests.org.apache.harmony.kernel.dalvik",
        "libcore.sun.misc",
    ],
}

test_module_config {
    name: "CtsLibcoreTestCases_net_util",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.net.util"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_jca",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.security.jca"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_pkcs",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.security.pkcs"],
}

test_module_config {
    name: "CtsLibcoreTestCases_security_x509",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.security.x509"],
}

test_module_config {
    name: "CtsLibcoreTestCases_sun_util_logging",
    base: "CtsLibcoreTestCases",
    test_suites: ["general-tests"],
    include_filters: ["libcore.sun.util.logging"],
}
