# Copyright (C) 2024 The Android Open Source Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http:#www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# proto-file: requirements.proto
# proto-message: RequirementList
requirements {
    id: "5.1/H-1-1"
    description: "- Concurrent video codec sessions"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST advertise the maximum number of hardware video decoder sessions that can be run concurrently in any codec combination via the CodecCapabilities.getMaxSupportedInstances() and VideoCapabilities.getSupportedPerformancePoints() methods."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-2"
    description: "- Concurrent video codec sessions\n- AV1 hardware decoder"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST support 6 instances of hardware video decoder sessions (AVC or HEVC) in any codec combination running concurrently at 720p resolution@30 fps."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST support 6 instances of hardware video decoder sessions (AVC, HEVC, VP9* or later) in any codec combination running concurrently at 720p resolution@30 fps. *Only 2 instances are required if VP9 codec is present."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support 6 instances of hardware video decoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 1080p resolution@30 fps."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 6 instances of 8-bit (SDR) hardware video decoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently with 3 sessions at 1080p resolution@30 fps and 3 sessions at 4k resolution@30fps, unless AV1. AV1 codecs are only required to support 1080p resolution, but are still required to support 6 instances at 1080p30fps."
        }
    }
}
requirements {
    id: "5.1/H-1-3"
    description: "- Concurrent video codec sessions"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST advertise the maximum number of hardware video encoder sessions that can be run concurrently in any codec combination via the CodecCapabilities.getMaxSupportedInstances() and VideoCapabilities.getSupportedPerformancePoints() methods."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-4"
    description: "- Concurrent video codec sessions\n- AV1 hardware decoder"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST support 6 instances of hardware video encoder sessions (AVC or HEVC) in any codec combination running concurrently at 720p resolution@30 fps."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST support 6 instances of hardware video encoder sessions (AVC, HEVC, VP9* or later) in any codec combination running concurrently at 720p resolution@30 fps. *Only 2 instances are required if VP9 codec is present."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support 6 instances of hardware video encoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 1080p resolution@30fps."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 6 instances of 8-bit (SDR) hardware video encoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently with 4 sessions at 1080p resolution@30 fps and 2 sessions at 4k resolution@30fps, unless AV1. AV1 codecs are only required to support 1080p resolution, but are still required to support 6 instances at 1080p30fps."
        }
    }
}
requirements {
    id: "5.1/H-1-5"
    description: "- Concurrent video codec sessions"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST advertise the maximum number of hardware video encoder and decoder sessions that can be run concurrently in any codec combination via the CodecCapabilities.getMaxSupportedInstances() and VideoCapabilities.getSupportedPerformancePoints() methods."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-6"
    description: "- Concurrent video codec sessions\n- AV1 hardware decoder"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST support 6 instances of hardware video decoder and hardware video encoder sessions (AVC or HEVC) in any codec combination running concurrently at 720p@30 fps resolution."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST support 6 instances of hardware video decoder and hardware video encoder sessions (AVC, HEVC, VP9* or later) in any codec combination running concurrently at 720p@30fps resolution. *Only 2 instances are required if VP9 codec is present."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support 6 instances of hardware video decoder and hardware video encoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 1080p@30fps resolution."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 6 instances of 8-bit (SDR) hardware video decoder and hardware video encoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently with 3 sessions at 4K@30fps resolution (unless AV1), out of which at most 2 are encoder sessions and 3 sessions at 1080p resolution. AV1 codecs are only required to support 1080p resolution, but are still required to support 6 instances at 1080p30fps."
        }
    }
}
requirements {
    id: "5.1/H-1-7"
    description: "- Encoder initialization latency"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have a codec initialization latency of 65 ms or less for a 1080p or smaller video encoding session for all hardware video encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have a codec initialization latency of 50 ms or less for a 1080p or smaller video encoding session for all hardware video encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have a codec initialization latency of 40 ms or less for a 1080p or smaller video encoding session for all hardware video encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have a codec initialization latency of 40 ms or less for a 1080p or smaller video encoding session for all hardware video encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization. For Dolby vision codec, the codec initialization latency MUST be 50 ms or less."
        }
    }
}
requirements {
    id: "5.1/H-1-8"
    description: "- Encoder initialization latency"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have a codec initialization latency of 50 ms or less for a 128 kbps or lower bitrate audio encoding session for all audio encoders when under load.Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have a codec initialization latency of 40 ms or less for a 128 kbps or lower bitrate audio encoding session for all audio encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have a codec initialization latency of 30 ms or less for a 128 kbps or lower bitrate audio encoding session for all audio encoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video recording initialization."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-9"
    description: "- AV1 hardware decoder\n- Secure hardware decoders"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support 2 instances of secure hardware video decoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 1080p resolution@30 fps."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 2 instances of secure hardware video decoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 4k resolution@30 fps (unless AV1) for both 8-bit (SDR) and 10-bit HDR content. AV1 codec sessions are only required to support 1080p resolution even when this requirement calls for 4K."
        }
    }
}
requirements {
    id: "5.1/H-1-10"
    description: "- AV1 hardware decoder\n- Secure hardware decoders"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support 3 instances of non-secure hardware video decoder sessions together with 1 instance of secure hardware video decoder session (4 instances total) (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 1080p resolution@30fps."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 3 instances of non-secure hardware video decoder sessions together with 1 instance of secure hardware video decoder session (4 instances total) (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently with 3 sessions at 4K resolution@30 fps (unless AV1) which includes one secure decoder session and 1 nn-secure session at 1080p resolution@30fps where at most 2 sessions can be in 10-bit HDR. AV1 codec sessions are only required to support 1080p resolution even when this requirement calls for 4K."
        }
    }
}
requirements {
    id: "5.1/H-1-11"
    description: "- AV1 hardware decoder\n- Secure hardware decoders"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support a secure decoder for every hardware AVC, HEVC, VP9 or AV1 decoder on the device."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-12"
    description: "- Decoder initialization latency"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have a video decoder initialization latency of 40 ms or less."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have a codec initialization latency of 40 ms or less for a 1080p or smaller video decoding session for all hardware video decoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video playback initialization. For Dolby vision codec, the codec initialization latency MUST be 50 ms or less."
        }
    }
}
requirements {
    id: "5.1/H-1-13"
    description: "- Decoder initialization latency"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have an audio decoder initialization latency of 30 ms or less."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have a codec initialization latency of 30 ms or less for a 128 kbps or lower bitrate audio decoding session for all audio decoders when under load. Load here is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs together with the 1080p audio-video playback initialization."
        }
    }
}
requirements {
    id: "5.1/H-1-14"
    description: "- AV1 hardware decoder\n- Film grain effect"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support AV1 hardware decoder Main 10, Level 4.1."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support AV1 hardware decoder Main 10, Level 4.1 and film grain."
        }
    }
}
requirements {
    id: "5.1/H-SR-1"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "Are STRONGLY RECOMMENDED to support Film Grain for AV1 hardware decoder."
        }
    }
}
requirements {
    id: "5.1/H-1-15"
    description: "- Secure hardware decoders"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have at least 1 hardware video decoder supporting 4K60."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-16"
    description: "- Secure hardware decoders"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have at least 1 hardware video encoder supporting 4K60."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.1/H-1-17"
    description: "- AVIF Baseline Profile"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have at least 1 hardware image decoder supporting AVIF Baseline Profile."
        }
    }
}
requirements {
    id: "5.1/H-1-18"
    description: "- AV1 encoder"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support AV1 encoder which can encode up to 480p resolution at 30fps and 1Mbps."
        }
    }
}
requirements {
    id: "5.12/H-SR"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "Are Strongly Recommended to support support the Feature_HdrEditing feature for all hardware AV1 and HEVC encoders present on the device."
        }
    }
}
requirements {
    id: "5.1/H-1-19"
    description: "- HDR video codecs"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support 3 instances of 10-bit (HDR) hardware video decoder and hardware video encoder sessions (AVC, HEVC, VP9, AV1 or later) in any codec combination running concurrently at 4K@30fps resolution (unless AV1) out of which at most 1 is an encoder session, which could be configured in RGBA_1010102 input format through a GL surface. HDR metadata generation by the encoder is not required if encoding from the GL surface. AV1 codec sessions are only required to support 1080p resolution even when this requirement calls for 4K."
        }
    }
}
requirements {
    id: "5.12/H-1-2"
    description: "- RGBA_1010102 color format"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support RGBA_1010102 color format for all hardware AV1 and HEVC encoders present on the device."
        }
    }
}
requirements {
    id: "5.12/H-1-3"
    description: "- YUV texture sampling"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST advertise support for the EXT_YUV_target extension to sample from YUV textures in both 8 and 10-bits."
        }
    }
}
requirements {
    id: "5.2/H-2-1"
    description: "- Video encoding quality"
}
requirements {
    id: "5.3/H-1-1"
    description: "- Decoder frame drops"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST NOT drop more than 1 frame in 10 seconds (i.e less than 0.333 percent frame drop) for a 1080p 30 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128 kbps AAC audio playback."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST NOT drop more than 2 frames in 10 seconds (i.e less than 0.333 percent frame drop) for a 1080p 60 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128 kbps AAC audio playback."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST NOT drop more than 1 frame in 10 seconds (i.e less than 0.167 percent frame drop) for a 1080p 60 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128 kbps AAC audio playback."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST NOT drop more than 1 frame in 10 seconds (i.e less than 0.167 percent frame drop) for a 4K 60 fps video session under load."
        }
    }
}
requirements {
    id: "5.3/H-1-2"
    description: "- Decoder frame drops"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST NOT drop more than 1 frame in 10 seconds during a video resolution change in a 30 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128Kbps AAC audio playback."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST NOT drop more than 2 frames in 10 seconds during a video resolution change in a 60 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128 kbps AAC audio playback."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST NOT drop more than 1 frame in 10 seconds during a video resolution change in a 60 fps video session under load. Load is defined as a concurrent 1080p to 720p video-only transcoding session using hardware video codecs, as well as a 128 kbps AAC audio playback."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST NOT drop more than 1 frame in 10 seconds during a video resolution change in a 60 fps video session under load for a 4K session."
        }
    }
}
requirements {
    id: "5.6/H-1-1"
    description: "- Round-trip audio latency"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have a tap-to-tone latency of less than 100 milliseconds using the OboeTester tap-to-tone test or CTS Verifier tap-to-tone test."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have a tap-to-tone latency of 80 milliseconds or less using the OboeTester tap-to-tone test or CTS Verifier tap-to-tone test."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have a tap-to-tone latency of 80 milliseconds or less using the CTS Verifier tap-to-tone test."
        }
    }
}
requirements {
    id: "5.6/H-1-2"
    description: "- Round-trip audio latency"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have a round-trip audio latency of 80 milliseconds or less over at least one supported data path."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.6/H-1-3"
    description: "- Wired headsets and USB audio devices"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support >=24-bit audio for stereo output over 3.5 mm audio jacks if present and over USB audio if supported through the entire data path for low latency and streaming configurations. For the low latency configuration, AAudio should be used by the app in low-latency callback mode. For the streaming configuration, a Java AudioTrack should be used by the app. In both the low latency and streaming configurations, the HAL output sink should accept either AUDIO_FORMAT_PCM_24_BIT, AUDIO_FORMAT_PCM_24_BIT_PACKED, AUDIO_FORMAT_PCM_32_BIT or AUDIO_FORMAT_PCM_FLOAT for its target output format."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.6/H-1-4"
    description: "- Wired headsets and USB audio devices"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support >=4 channel USB audio devices (This is used by DJ controllers for previewing songs.)"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "5.6/H-1-5"
    description: "- MIDI devices"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support class compliant MIDI devices and declare the MIDI feature flag."
        }
    }
    specs { key: 34 value { mpc: MEDIA_PERFORMANCE_CLASS_14 } }
}
requirements {
    id: "5.6/H-1-9"
    description: "- Multichannel audio mixing"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support at least 12 channel mixing. This implies the capability to open an AudioTrack with 7.1.4 channel mask and properly spatialise or downmix all channels to stereo."
        }
    }
}
requirements {
    id: "5.6/H-SR"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "Are STRONGLY RECOMMENDED to support 24 channel mixing with at least support for 9.1.6 and 22.2 channel masks."
        }
    }
}
requirements {
    id: "5.7/H-1-2"
    description: "- Hardware-backed trusted execution environment"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support MediaDrm.SECURITY_LEVEL_HW_12ECURE_ALL with the below content decryption capabilities.\nMinimum Sample size        4 MiB\nMinimum Number of Subsamples - H264 or HEVC        32\nMinimum Number of Subsamples - VP9        9\nMinimum Number of Subsamples - AV1        288\nMinimum subsample buffer size        1 MiB\nMinimum Generic crypto buffer size        500 KiB\nMinimum Number of concurrent sessions        30\nMinimum Number of keys per session        20\nMinimum Total Number of Keys (all sessions)        80\nMinimum Total Number of DRM Keys (all sessions)        6\nMessage Size        16 KiB\nDecrypted Frames per Second        60 fps"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-1"
    description: "- Resolution and frame rate"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have a primary rear facing camera with a resolution of at least 12 megapixels supporting video capture at 4k@30fps. The primary rear-facing camera is the rear-facing camera with the lowest camera ID."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-2"
    description: "- Resolution and frame rate"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have a primary front facing camera with a resolution of at least 4 megapixels supporting video capture at 1080p@30fps. The primary front-facing camera is the front-facing camera with the lowest camera ID."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have a primary front facing camera with a resolution of at least 5 megapixels and support video capture at 1080p@30fps. The primary front-facing camera is the front-facing camera with the lowest camera ID."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST have a primary front-facing camera with a resolution of at least 6 megapixels and support video capture at 1080p@30fps. The primary front-facing camera is the front-facing camera with the lowest camera ID."
        }
    }
}
requirements {
    id: "7.5/H-1-3"
    description: "- FULL or better hardware level"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST support android.info.supportedHardwareLevel property as FULL or better for back primary and LIMITED or better for front primary camera."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST support android.info.supportedHardwareLevel property as FULL or better for both primary cameras."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-4"
    description: "- Timestamp source is realtime"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST support CameraMetadata.SENSOR_INFO_13IMESTAMP_12OURCE_11EALTIME for both primary cameras."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-5"
    description: "- Startup and capture latencies"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have camera2 JPEG capture latency < 1000 ms for 1080p resolution as measured by the CTS camera PerformanceTest under ITS lighting conditions (3000K) for both primary cameras."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-6"
    description: "- Startup and capture latencies"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have camera2 startup latency (open camera to first preview frame) < 600 ms as measured by the CTS camera PerformanceTest under ITS lighting conditions (3000K) for both primary cameras."
        }
    }
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have camera2 startup latency (open camera to first preview frame) < 500 ms as measured by the CTS camera PerformanceTest under ITS lighting conditions (3000K) for both primary cameras."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-8"
    description: "- RAW capability"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST support CameraMetadata.REQUEST_AVAILABLE_CAPABILITIES_11AW and android.graphics.ImageFormat.RAW_12ENSOR for the primary back camera."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-9"
    description: "- Slow-mo recording"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-10"
    description: "- Minimum zoom ratio for ultrawide cameras"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have min ZOOM_11ATIO < 1.0 for the primary cameras if there is an ultrawide RGB camera facing the same direction."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-11"
    description: "- Concurrent camera"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST implement concurrent front-back streaming on primary cameras."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-12"
    description: "- Preview stabilization"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support CONTROL_VIDEO_12TABILIZATION_MODE_PREVIEW_12TABILIZATION for both primary front and primary back camera."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-13"
    description: "- Logical multi-camera"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support LOGICAL_MULTI_CAMERA capability for the primary cameras if there are greater than 1 RGB cameras facing the same direction."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-14"
    description: "- Stream use case"
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST support STREAM_14SE_CASE capability for both primary front and primary back camera."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.5/H-1-15"
    description: "- Night mode extension"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support ~Bokeh &~ Night mode extensions via both CameraX and Camera2 extensions for primary cameras."
        }
    }
}
requirements {
    id: "7.5/H-1-16"
    description: "- HDR-capable primary camera"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support DYNAMIC_RANGE_TEN_BIT capability for the primary cameras."
        }
    }
}
requirements {
    id: "7.5/H-1-17"
    description: "- Face detection scene mode"
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST support CONTROL_SCENE_MODE_FACE_PRIORITY and face detection (STATISTICS_FACE_DETECT_MODE_SIMPLE or STATISTICS_FACE_DETECT_MODE_FULL) for the primary cameras."
        }
    }
}
requirements {
    id: "7.1.1.1/H-1-1"
    description: "- Screen resolution"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have screen resolution of at least 1080p."
        }
    }
}
requirements {
    id: "7.1.1.1/H-2-1"
    description: "- Screen resolution"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have screen resolution of at least 1080p."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.1.1.3/H-1-1"
    description: "- Screen density"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have screen density of at least 400 dpi."
        }
    }
}
requirements {
    id: "7.1.1.3/H-2-1"
    description: "- Screen density"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have screen density of at least 400 dpi."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "same"
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "7.1.1.3/H-3-1"
    name: "HDR display"
    measurements: [{
        key: "is_hdr"
        value: {
            id: "is_hdr",
            description: "Does the display support HDR"
            measurement_type: MEASUREMENT_TYPE_BOOL
            comparison: COMPARISON_EQUAL
        }
    }, {
            key: "display_luminance_nits"
            value: {
                id: "display_luminance_nits",
                description: "The display luminance in nits."
                measurement_type: MEASUREMENT_TYPE_DOUBLE
                comparison: COMPARISON_GREATER_THAN_OR_EQUAL
            }
        }
    ]
    specs {
        key: 35
        value {
            mpc:   MEDIA_PERFORMANCE_CLASS_INVALID ;
            specification: "MUST have a HDR display supporting at least 1000 nits"
            required_values: {
                key: "display_luminance_nits"
                value: {
                    comparison: COMPARISON_GREATER_THAN_OR_EQUAL
                    double_value: 1000
                }
            }
            required_values: {
                key: "is_hdr"
                value: {
                    comparison: COMPARISON_EQUAL
                    bool_value: true
                }
            }
        }
    }
}
requirements {
    id: "7.1.4/H1-1"
    description: "- Hardware overlays"
}
requirements {
    id: "7.6.1/H-1-1"
    description: "- Memory"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST have at least 6 GB of physical memory."
        }
    }
}
requirements {
    id: "7.6.1/H-2-1"
    description: "- Memory"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST have at least 6 GB of physical memory."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST have at least 8 GB of physical memory."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "8.2/H-1-1"
    name: "Sequential write"
    description: "Sequential write"
    measurements: {
        key: "filesystem_io_rate_mbps"
        value: {
            id: "filesystem_io_rate_mbps"
            description: "Sequential write performance in MB per second."
            measurement_type: MEASUREMENT_TYPE_DOUBLE
            comparison: COMPARISON_GREATER_THAN_OR_EQUAL
        }
    }
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST ensure a sequential write performance of at least 100 MB/s."
            required_values: {
                key: "filesystem_io_rate_mbps"
                value: {
                    comparison: COMPARISON_GREATER_THAN_OR_EQUAL
                    double_value: 100
                }
            }
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST ensure a sequential write performance of at least 125 MB/s."
            required_values: {
                key: "filesystem_io_rate_mbps"
                value: {
                    comparison: COMPARISON_GREATER_THAN_OR_EQUAL
                    double_value: 125
                }
            }
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST ensure a sequential write performance of at least 150 MB/s."
            required_values: {
                key: "filesystem_io_rate_mbps"
                value: {
                    comparison: COMPARISON_GREATER_THAN_OR_EQUAL
                    double_value: 150
                }
            }
        }
    }
}
requirements {
    id: "8.2/H-1-2"
    description: "- Read and write performance"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST ensure a random write performance of at least 10 MB/s."
        }
    }
}
requirements {
    id: "8.2/H-2-2"
    description: "- Read and write performance"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "same"
        }
    }
}
requirements {
    id: "8.2/H-1-3"
    description: "- Read and write performance"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST ensure a sequential read performance of at least 200 MB/s."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST ensure a sequential read performance of at least 250 MB/s."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "same"
        }
    }
}
requirements {
    id: "8.2/H-2-3"
    description: "- Read and write performance"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST ensure a sequential read performance of at least 250 MB/s."
        }
    }
}
requirements {
    id: "8.2/H-1-4"
    description: "- Read and write performance"
    specs {
        key: 30
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_11
            specification: "MUST ensure a random read performance of at least 25 MB/s."
        }
    }
    specs {
        key: 33
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_13
            specification: "MUST ensure a random read performance of at least 40 MB/s."
        }
    }
    specs {
        key: 34
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_14
            specification: "MUST ensure a random read performance of at least 100 MB/s."
        }
    }
}
requirements {
    id: "8.2/H-2-4"
    description: "- Read and write performance"
    specs {
        key: 31
        value {
            mpc: MEDIA_PERFORMANCE_CLASS_12
            specification: "MUST ensure a random read performance of at least 40 MB/s."
        }
    }
}
requirements {
    id: "8.2/H-1-5"
    description: "- Read and write performance"
}
