package {
    default_team: "trendy_team_games",
    default_applicable_licenses: ["Android-Apache-2.0"],
}

android_test {
    name: "CtsGameManagerTestCases",
    defaults: ["cts_defaults"],

    test_suites: [
        "cts",
        "general-tests",
    ],

    libs: [
        "android.test.base.stubs.test",
        "android.test.runner.stubs.test",
    ],

    static_libs: [
        "androidx.test.core",
        "android.server.app.flags-aconfig-java",
        "compatibility-device-util-axt",
        "ctsdeviceutillegacy-axt",
        "ctstestrunner-axt",
        "ctstestserver",
        "flag-junit",
        "framework-annotations-lib",
        "junit",
        "surfaceflinger_flags_java_lib",
        "truth",
        "GameManagerTestLib",
    ],

    data: [
        ":CtsGameTestApp",
        ":CtsGameTestAppWithBatteryMode",
        ":CtsGameTestAppWithPerformanceMode",
        ":CtsGameTestAppWithTiramisuTarget",
        ":CtsLegacyGameTestApp",
        ":CtsNotGameTestApp",
    ],

    srcs: ["src/**/*.java"],
    exclude_srcs: [
        ":GameManagerTestLibSources",
    ],

    sdk_version: "test_current",
}

filegroup {
    name: "GameManagerTestLibSources",
    srcs: [
        "src/android/gamemanager/cts/util/**/*.java",
    ],
}

android_library {
    name: "GameManagerTestLib",
    srcs: [
        ":GameManagerTestLibSources",
    ],
    static_libs: [
        "androidx.test.core",
        "compatibility-device-util-axt",
    ],
}
